<!DOCTYPE html>
<html>
  <head>
    <title>Ticketer</title>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%#= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <%= link_to 'Ticketer', '/', class: 'mdl-layout-title', style: 'color: #fff; text-decoration: none'  %>

          <div class="mdl-layout-spacer"></div>

          <nav class="mdl-navigation">
            <% if user_signed_in? %>
              <%= link_to 'Events', events_path, class: 'mdl-navigation__link' %>
              <%= link_to 'Tickets', tickets_path, class: 'mdl-navigation__link' %>

              <%= link_to 'User profile', edit_user_registration_path, class: 'mdl-navigation__link' %>
              <%= link_to 'Logout', destroy_user_session_path, method: :delete, class: 'mdl-navigation__link' %>
            <% else %>
              <%= link_to 'Log in', new_user_session_path, class: 'mdl-navigation__link' %>
              <%= link_to 'Sign up', new_user_registration_path, class: 'mdl-navigation__link' %>
            <% end %>
          </nav>
        </div>
      </header>

      <main class="mdl-layout__content">
        <% if notice %>
          <div class="mdl-grid">
            <div class="mdl-cell">
              <div class="mdl-card mdl-shadow--2dp"
                   style="min-height: 0; background-color: rgba(0, 255, 0, .5)">
                <div class="mdl-card__title">
                  <%= notice %>
                </div>
              </div>
            </div>
          </div>
        <% end %>

        <% if alert %>
          <div class="mdl-grid">
            <div class="mdl-cell">
              <div class="mdl-card mdl-shadow--2dp"
                   style="min-height: 0; background-color: rgba(255, 0, 0, .5);">
                <div class="mdl-card__title">
                  <%= alert %>
                </div>
              </div>
            </div>
          </div>
        <% end %>

        <%= yield %>
      </main>

      <footer class="mdl-mini-footer">
        <div class="mdl-mini-footer__left-section">
          <div class="mdl-logo">Ticketer</div>
          <ul class="mdl-mini-footer__link-list">
            <li><%= link_to 'Events', events_path, class: 'mdl-navigation__link' %></li>
            <li><%= link_to 'Tickets', tickets_path, class: 'mdl-navigation__link' %></li>
          </ul>
        </div>
      </footer>
    </div>
  </body>
</html>
